(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{tmrb:function(t,e,i){"use strict";i.r(e),i.d(e,"Tab1PageModule",(function(){return J}));var n=i("TEn/"),o=i("ofXK"),s=i("3Pt+"),r=i("qtYk"),a=i("tyNb"),c=i("mrSG"),l=i("fXoL"),b=i("HDdC"),d=i("lJxs"),u=i("JIr8"),h=i("XNiG"),m=i("tk/3");let p=(()=>{class t{constructor(t){this.http=t,this.items=[],this.baseURL="http://192.168.1.104:8080",console.log("Hello GroceriesService Service"),this.dataChangeSubject=new h.a,this.dataChanged$=this.dataChangeSubject.asObservable()}getItems(){return this.http.get(this.baseURL+"/api/groceries").pipe(Object(d.a)(this.extractData),Object(u.a)(this.handleError))}extractData(t){return console.log("Response is ::"+t),t||{}}handleError(t){let e;return e=t instanceof Response?`${t.status} - ${t.statusText||""} ${t}`:t.message?t.message:t.toString(),function(t,e){return new b.a(e=>e.error(t))}(e)}removeItem(t){console.log("#### Remove Item - id=",t._id),this.http.delete(this.baseURL+"/api/groceries/"+t._id).subscribe(t=>{this.items=t,this.dataChangeSubject.next(!0)})}addItem(t){this.http.post(this.baseURL+"/api/groceries",t).subscribe(t=>{this.items=t,this.dataChangeSubject.next(!0)})}editItem(t){console.log("Editing item=",+t),this.http.put(this.baseURL+"/api/groceries/"+t._id,t).subscribe(t=>{this.items=t,this.dataChangeSubject.next(!0)})}}return t.\u0275fac=function(e){return new(e||t)(l.Ob(m.a))},t.\u0275prov=l.Db({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),g=(()=>{class t{constructor(t,e){this.alertController=t,this.dataService=e}showPrompt(t,e,i){return Object(c.a)(this,void 0,void 0,(function*(){const n=yield this.alertController.create({cssClass:"my-custom-class",header:t?"Edit Item":"Add Item",inputs:[{name:"_id",type:"text",value:t?t._id:void 0,disabled:!0},{name:"name",placeholder:"Name",value:t?t.name:null},{name:"quantity",placeholder:"Quantity",value:t?t.quantity:null}],buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:()=>{console.log("Confirm Cancel")}},{text:"Save",handler:t=>{console.log("Confirm Save",t,e),void 0!==e?(this.dataService.editItem(t),i.close()):this.dataService.addItem(t)}}]});yield n.present()}))}}return t.\u0275fac=function(e){return new(e||t)(l.Ob(n.a),l.Ob(p))},t.\u0275prov=l.Db({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var f=i("/XPu");function v(t,e){1&t&&(l.Kb(0,"ion-item",9),l.Kb(1,"ion-label"),l.ec(2,"List is empty."),l.Jb(),l.Jb())}function I(t,e){if(1&t){const t=l.Lb();l.Kb(0,"ion-item-sliding",null,10),l.Kb(2,"ion-item"),l.Kb(3,"ion-label"),l.ec(4),l.Jb(),l.Kb(5,"p"),l.ec(6),l.Jb(),l.Jb(),l.Kb(7,"ion-item-options"),l.Kb(8,"ion-button",11),l.Sb("click",(function(){l.ac(t);const i=e.$implicit,n=e.index,o=l.Zb(1);return l.Ub().editItem(i,n,o)})),l.Ib(9,"ion-icon",12),l.Jb(),l.Kb(10,"ion-button",13),l.Sb("click",(function(){l.ac(t);const i=e.$implicit,n=e.index,o=l.Zb(1);return l.Ub().shareItem(i,n,o)})),l.Ib(11,"ion-icon",14),l.Jb(),l.Kb(12,"ion-button",15),l.Sb("click",(function(){l.ac(t);const i=e.$implicit,n=e.index;return l.Ub().removeItem(i,n)})),l.Ib(13,"ion-icon",16),l.Jb(),l.ec(14," > "),l.Jb(),l.Jb()}if(2&t){const t=e.$implicit;l.xb(4),l.fc(t.name),l.xb(2),l.fc(t.quantity)}}const S=[{path:"",component:(()=>{class t{constructor(t,e,i,n,o){this.toastController=t,this.alertController=e,this.dataService=i,this.inputDialogService=n,this.socialSharing=o,this.title="Grocery App",this.items=[],i.dataChanged$.subscribe(t=>{this.loadItems()})}ionViewWillEnter(){this.loadItems()}loadItems(){return this.dataService.getItems().subscribe(t=>this.items=t,t=>this.errorMessage=t)}removeItem(t,e){return Object(c.a)(this,void 0,void 0,(function*(){console.log("Removing Item = ",t,e),(yield this.toastController.create({message:"Removing "+t.name+"...",duration:2e3})).present(),this.dataService.removeItem(t)}))}editItem(t,e,i){return Object(c.a)(this,void 0,void 0,(function*(){console.log("Edit Item = ",t),(yield this.toastController.create({message:"Editing "+t.name+"...",duration:2e3})).present(),console.log("Editing Item"),this.inputDialogService.showPrompt(t,t._id,i)}))}addItem(){return Object(c.a)(this,void 0,void 0,(function*(){console.log("Adding Item"),this.inputDialogService.showPrompt()}))}shareItem(t,e,i){return Object(c.a)(this,void 0,void 0,(function*(){console.log("Sharing Item = ",t,e),(yield this.toastController.create({message:"Sharing "+t.name+"...",duration:2e3})).present(),i.close(),this.socialSharing.share("Name: "+t.name+"  Quantity: "+t.quantity,"Shared vis Groceriers App").then(()=>{console.log("shared successfully!")}).catch(t=>{console.error("Error while sharing ",t)})}))}}return t.\u0275fac=function(e){return new(e||t)(l.Hb(n.w),l.Hb(n.a),l.Hb(p),l.Hb(g),l.Hb(f.a))},t.\u0275cmp=l.Bb({type:t,selectors:[["app-tab1"]],decls:15,vars:6,consts:[[3,"translucent"],["padding","",3,"fullscreen"],["collapse","condense"],["size","large"],["class","ion-text-center",4,"ngIf"],[4,"ngFor","ngForOf"],["vertical","bottom","horizontal","end","slot","fixed"],[3,"click"],["name","add"],[1,"ion-text-center"],["slidingItem",""],["ion-button","","color","primary","icon-start","",3,"click"],["name","create"],["ion-button","","color","secondary","icon-start","",3,"click"],["name","share"],["ion-button","","color","danger","icon-start","",3,"click"],["name","trash"]],template:function(t,e){1&t&&(l.Kb(0,"ion-header",0),l.Kb(1,"ion-toolbar"),l.Kb(2,"ion-title"),l.ec(3),l.Jb(),l.Jb(),l.Jb(),l.Kb(4,"ion-content",1),l.Kb(5,"ion-header",2),l.Kb(6,"ion-toolbar"),l.Kb(7,"ion-title",3),l.ec(8),l.Jb(),l.Jb(),l.Jb(),l.dc(9,v,3,0,"ion-item",4),l.Kb(10,"ion-list"),l.dc(11,I,15,2,"ion-item-sliding",5),l.Jb(),l.Kb(12,"ion-fab",6),l.Kb(13,"ion-fab-button",7),l.Sb("click",(function(){return e.addItem()})),l.Ib(14,"ion-icon",8),l.Jb(),l.Jb(),l.Jb()),2&t&&(l.Xb("translucent",!0),l.xb(3),l.gc(" ",e.title," "),l.xb(1),l.Xb("fullscreen",!0),l.xb(4),l.fc(e.title),l.xb(1),l.Xb("ngIf",0==e.items.length),l.xb(2),l.Xb("ngForOf",e.items))},directives:[n.g,n.s,n.r,n.d,o.i,n.m,o.h,n.e,n.f,n.h,n.i,n.l,n.k,n.j,n.c],styles:[""]}),t})()}];let y=(()=>{class t{}return t.\u0275mod=l.Fb({type:t}),t.\u0275inj=l.Eb({factory:function(e){return new(e||t)},imports:[[a.i.forChild(S)],a.i]}),t})(),J=(()=>{class t{}return t.\u0275mod=l.Fb({type:t}),t.\u0275inj=l.Eb({factory:function(e){return new(e||t)},imports:[[n.t,o.b,s.a,r.a,y]]}),t})()}}]);