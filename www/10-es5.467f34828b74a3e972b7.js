!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{tmrb:function(t,i,r){"use strict";r.r(i),r.d(i,"Tab1PageModule",(function(){return j}));var o,a,c=r("TEn/"),s=r("ofXK"),u=r("3Pt+"),l=r("qtYk"),b=r("tyNb"),m=r("mrSG"),h=r("fXoL"),d=r("HDdC"),f=r("lJxs"),p=r("JIr8"),v=r("XNiG"),g=r("tk/3"),y=((a=function(){function t(n){e(this,t),this.http=n,this.items=[],this.baseURL="http://192.168.1.104:8080",console.log("Hello GroceriesService Service"),this.dataChangeSubject=new v.a,this.dataChanged$=this.dataChangeSubject.asObservable()}return n(t,[{key:"getItems",value:function(){return this.http.get(this.baseURL+"/api/groceries").pipe(Object(f.a)(this.extractData),Object(p.a)(this.handleError))}},{key:"extractData",value:function(e){return console.log("Response is ::"+e),e||{}}},{key:"handleError",value:function(e){return function(e,t){return new d.a((function(t){return t.error(e)}))}(e instanceof Response?"".concat(e.status," - ").concat(e.statusText||""," ").concat(e):e.message?e.message:e.toString())}},{key:"removeItem",value:function(e){var t=this;console.log("#### Remove Item - id=",e._id),this.http.delete(this.baseURL+"/api/groceries/"+e._id).subscribe((function(e){t.items=e,t.dataChangeSubject.next(!0)}))}},{key:"addItem",value:function(e){var t=this;this.http.post(this.baseURL+"/api/groceries",e).subscribe((function(e){t.items=e,t.dataChangeSubject.next(!0)}))}},{key:"editItem",value:function(e,t){var n=this;console.log("Editing item=",e,t),this.http.put(this.baseURL+"/api/groceries/"+t,e).subscribe((function(e){n.items=e,n.dataChangeSubject.next(!0)}))}}]),t}()).\u0275fac=function(e){return new(e||a)(h.Ob(g.a))},a.\u0275prov=h.Db({token:a,factory:a.\u0275fac,providedIn:"root"}),a),I=((o=function(){function t(n,i){e(this,t),this.alertController=n,this.dataService=i}return n(t,[{key:"showPrompt",value:function(e,t,n){return Object(m.a)(this,void 0,void 0,regeneratorRuntime.mark((function i(){var r,o=this;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return console.log("showPrompt",e,t),i.next=3,this.alertController.create({cssClass:"my-custom-class",header:e?"Edit Item":"Add Item",inputs:[{name:"name",placeholder:"Name",value:e?e.name:null},{name:"quantity",placeholder:"Quantity",value:e?e.quantity:null}],buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:function(){console.log("Confirm Cancel")}},{text:"Save",handler:function(e){console.log("Confirm Save",e,t),void 0!==t?(o.dataService.editItem(e,t),n.close()):o.dataService.addItem(e)}}]});case 3:return r=i.sent,i.next=6,r.present();case 6:case"end":return i.stop()}}),i,this)})))}}]),t}()).\u0275fac=function(e){return new(e||o)(h.Ob(c.a),h.Ob(y))},o.\u0275prov=h.Db({token:o,factory:o.\u0275fac,providedIn:"root"}),o),k=r("/XPu");function w(e,t){1&e&&(h.Kb(0,"ion-item",9),h.Kb(1,"ion-label"),h.ec(2,"List is empty."),h.Jb(),h.Jb())}function x(e,t){if(1&e){var n=h.Lb();h.Kb(0,"ion-item-sliding",null,10),h.Kb(2,"ion-item"),h.Kb(3,"ion-label"),h.ec(4),h.Jb(),h.Kb(5,"p"),h.ec(6),h.Jb(),h.Jb(),h.Kb(7,"ion-item-options"),h.Kb(8,"ion-button",11),h.Sb("click",(function(){h.ac(n);var e=t.$implicit,i=t.index,r=h.Zb(1);return h.Ub().editItem(e,i,r)})),h.Ib(9,"ion-icon",12),h.Jb(),h.Kb(10,"ion-button",13),h.Sb("click",(function(){h.ac(n);var e=t.$implicit,i=t.index,r=h.Zb(1);return h.Ub().shareItem(e,i,r)})),h.Ib(11,"ion-icon",14),h.Jb(),h.Kb(12,"ion-button",15),h.Sb("click",(function(){h.ac(n);var e=t.$implicit,i=t.index;return h.Ub().removeItem(e,i)})),h.Ib(13,"ion-icon",16),h.Jb(),h.ec(14," > "),h.Jb(),h.Jb()}if(2&e){var i=t.$implicit;h.xb(4),h.fc(i.name),h.xb(2),h.fc(i.quantity)}}var S,J,C,K=[{path:"",component:(S=function(){function t(n,i,r,o,a){var c=this;e(this,t),this.toastController=n,this.alertController=i,this.dataService=r,this.inputDialogService=o,this.socialSharing=a,this.title="Grocery App",this.items=[],r.dataChanged$.subscribe((function(e){c.loadItems()}))}return n(t,[{key:"ionViewWillEnter",value:function(){this.loadItems()}},{key:"loadItems",value:function(){var e=this;return this.dataService.getItems().subscribe((function(t){return e.items=t}),(function(t){return e.errorMessage=t}))}},{key:"removeItem",value:function(e,t){return Object(m.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("Removing Item = ",e,t),n.next=3,this.toastController.create({message:"Removing "+e.name+"...",duration:2e3});case 3:n.sent.present(),this.dataService.removeItem(e);case 5:case"end":return n.stop()}}),n,this)})))}},{key:"editItem",value:function(e,t,n){return Object(m.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Edit Item = ",e,e._id),t.next=3,this.toastController.create({message:"Editing "+e.name+"...",duration:2e3});case 3:t.sent.present(),console.log("Editing Item"),this.inputDialogService.showPrompt(e,e._id,n);case 6:case"end":return t.stop()}}),t,this)})))}},{key:"addItem",value:function(){return Object(m.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Adding Item"),this.inputDialogService.showPrompt();case 1:case"end":return e.stop()}}),e,this)})))}},{key:"shareItem",value:function(e,t,n){return Object(m.a)(this,void 0,void 0,regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return console.log("Sharing Item = ",e,t),i.next=3,this.toastController.create({message:"Sharing "+e.name+"...",duration:2e3});case 3:i.sent.present(),n.close(),this.socialSharing.share("Name: "+e.name+"  Quantity: "+e.quantity,"Shared vis Groceriers App").then((function(){console.log("shared successfully!")})).catch((function(e){console.error("Error while sharing ",e)}));case 6:case"end":return i.stop()}}),i,this)})))}}]),t}(),S.\u0275fac=function(e){return new(e||S)(h.Hb(c.w),h.Hb(c.a),h.Hb(y),h.Hb(I),h.Hb(k.a))},S.\u0275cmp=h.Bb({type:S,selectors:[["app-tab1"]],decls:15,vars:6,consts:[[3,"translucent"],["padding","",3,"fullscreen"],["collapse","condense"],["size","large"],["class","ion-text-center",4,"ngIf"],[4,"ngFor","ngForOf"],["vertical","bottom","horizontal","end","slot","fixed"],[3,"click"],["name","add"],[1,"ion-text-center"],["slidingItem",""],["ion-button","","color","primary","icon-start","",3,"click"],["name","create"],["ion-button","","color","secondary","icon-start","",3,"click"],["name","share"],["ion-button","","color","danger","icon-start","",3,"click"],["name","trash"]],template:function(e,t){1&e&&(h.Kb(0,"ion-header",0),h.Kb(1,"ion-toolbar"),h.Kb(2,"ion-title"),h.ec(3),h.Jb(),h.Jb(),h.Jb(),h.Kb(4,"ion-content",1),h.Kb(5,"ion-header",2),h.Kb(6,"ion-toolbar"),h.Kb(7,"ion-title",3),h.ec(8),h.Jb(),h.Jb(),h.Jb(),h.dc(9,w,3,0,"ion-item",4),h.Kb(10,"ion-list"),h.dc(11,x,15,2,"ion-item-sliding",5),h.Jb(),h.Kb(12,"ion-fab",6),h.Kb(13,"ion-fab-button",7),h.Sb("click",(function(){return t.addItem()})),h.Ib(14,"ion-icon",8),h.Jb(),h.Jb(),h.Jb()),2&e&&(h.Xb("translucent",!0),h.xb(3),h.gc(" ",t.title," "),h.xb(1),h.Xb("fullscreen",!0),h.xb(4),h.fc(t.title),h.xb(1),h.Xb("ngIf",0==t.items.length),h.xb(2),h.Xb("ngForOf",t.items))},directives:[c.g,c.s,c.r,c.d,s.i,c.m,s.h,c.e,c.f,c.h,c.i,c.l,c.k,c.j,c.c],styles:[""]}),S)}],R=((C=function t(){e(this,t)}).\u0275mod=h.Fb({type:C}),C.\u0275inj=h.Eb({factory:function(e){return new(e||C)},imports:[[b.i.forChild(K)],b.i]}),C),j=((J=function t(){e(this,t)}).\u0275mod=h.Fb({type:J}),J.\u0275inj=h.Eb({factory:function(e){return new(e||J)},imports:[[c.t,s.b,u.a,l.a,R]]}),J)}}])}();